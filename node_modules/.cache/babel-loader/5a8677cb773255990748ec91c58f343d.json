{"ast":null,"code":"var _jsxFileName = \"/home/amanda-kenzie/Documents/Faculdade/TCC/front/web-react-report/src/pages/Login/index.jsx\";\nimport React, { useState } from \"react\";\nimport logo from \"../../assets/Logo.svg\";\nimport \"./styles.css\";\nimport { useAuth } from \"../../hooks/AuthContext\"; // import { useToast } from \"@chakra-ui/react\";\n\nexport default function Login(_ref) {\n  let {\n    history\n  } = _ref;\n  const [name, setname] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  let [loading, setLoading] = useState(true);\n  const {\n    signIn\n  } = useAuth();\n  const toast = useToast();\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setLoading(true);\n    signIn({\n      name,\n      password\n    }).then(response => setLoading(false)).catch(err => {\n      setLoading(false);\n      toast({\n        status: \"error\",\n        title: \"Erro no login! Tente novamente com outras credenciais\"\n      });\n    }); // const response = await api.post(\"/login\", { name, password });\n    // const { user } = response.data;\n    // if (response.status === 200) {\n    //   localStorage.setItem(\"userToken\", response.data.token);\n    //   localStorage.setItem(\"userId\", user.id);\n    //   history.push(\"/dashboard\");\n    // }\n    // if (response.status === 401) {\n    //   console.log(\"Usu치rio ou senha inv치lidos\");\n    // }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-login text-center \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    id: \"logo-login\",\n    alt: \"Logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    id: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    size: 85,\n    className: \"login\",\n    type: \"name\",\n    id: \"name\",\n    required: true,\n    placeholder: \"perito@policiacientifica.com.br\",\n    onChange: event => setname(event.target.value),\n    value: name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"login\",\n    type: \"password\",\n    required: true,\n    id: \"password\",\n    placeholder: \"******\",\n    onChange: event => setPassword(event.target.value),\n    value: password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-lg\",\n    onClick: () => setLoading(!loading),\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"ENTRAR\")))));\n}","map":{"version":3,"sources":["/home/amanda-kenzie/Documents/Faculdade/TCC/front/web-react-report/src/pages/Login/index.jsx"],"names":["React","useState","useAuth","Login","history","name","setname","password","setPassword","loading","setLoading","signIn","toast","useToast","handleSubmit","e","preventDefault","then","response","catch","err","status","title","logo","event","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport logo from \"../../assets/Logo.svg\";\nimport \"./styles.css\";\nimport { useAuth } from \"../../hooks/AuthContext\";\n// import { useToast } from \"@chakra-ui/react\";\n\nexport default function Login({ history }) {\n  const [name, setname] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  let [loading, setLoading] = useState(true);\n  const { signIn } = useAuth();\n    const toast = useToast();\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setLoading(true);\n    signIn({ name, password })\n      .then((response) => setLoading(false))\n      .catch((err) => {\n        setLoading(false);\n        toast({\n          status: \"error\",\n          title: \"Erro no login! Tente novamente com outras credenciais\",\n        });\n      });\n    // const response = await api.post(\"/login\", { name, password });\n    // const { user } = response.data;\n    // if (response.status === 200) {\n    //   localStorage.setItem(\"userToken\", response.data.token);\n    //   localStorage.setItem(\"userId\", user.id);\n    //   history.push(\"/dashboard\");\n    // }\n    // if (response.status === 401) {\n    //   console.log(\"Usu치rio ou senha inv치lidos\");\n    // }\n  }\n  return (\n    <div className=\"container-login text-center \">\n      <img src={logo} id=\"logo-login\" alt=\"Logo\" />\n\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-login\">\n          <label id=\"password\">\n            <input\n              size={85}\n              className=\"login\"\n              type=\"name\"\n              id=\"name\"\n              required\n              placeholder=\"perito@policiacientifica.com.br\"\n              onChange={(event) => setname(event.target.value)}\n              value={name}\n            />\n          </label>\n          <label>\n            <input\n              className=\"login\"\n              type=\"password\"\n              required\n              id=\"password\"\n              placeholder=\"******\"\n              onChange={(event) => setPassword(event.target.value)}\n              value={password}\n            />\n          </label>\n          <div>\n            {\" \"}\n            <button\n              className=\"btn btn-lg\"\n              onClick={() => setLoading(!loading)}\n              type=\"submit\"\n            >\n              ENTRAR\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}